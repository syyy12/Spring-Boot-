# 서버 실행 및 외부 네트워크 접속 가이드

<style>
    body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        margin: 20px;
        background-color: #f9f9f9;
        color: #333;
    }
    h1, h2 {
        color: #2c3e50;
    }
    pre {
        background: #ecf0f1;
        padding: 10px;
        border: 1px solid #bdc3c7;
        border-radius: 5px;
        overflow-x: auto;
    }
    ul, ol {
        margin: 15px 0;
        padding-left: 20px;
    }
    li {
        margin-bottom: 10px;
    }
    a {
        color: #2980b9;
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
</style>

이 가이드는 로컬 컴퓨터에서 서버를 실행하고, 외부 네트워크(다른 네트워크)에서 해당 서버에 접속하는 방법을 단계별로 설명합니다.

---

## 1. Spring Boot 서버 실행

1. Spring Boot 프로젝트 디렉토리에서 다음 명령어를 실행합니다:
    ```bash
    ./gradlew bootRun
    ```
2. 브라우저에서 다음 주소로 서버가 실행 중인지 확인합니다:
    ```
    http://localhost:8080
    ```

---

## 2. 서버의 내부 IP 주소 확인

1. 명령 프롬프트(cmd)를 열고 다음 명령어를 실행합니다:
    ```bash
    ipconfig
    ```
2. 출력된 결과에서 **IPv4 주소**를 확인합니다. 예: `192.168.219.103`

---

## 3. 공용 IP 주소 확인

1. 브라우저에서 [ip.pe.kr](https://ip.pe.kr)에 접속합니다.
2. 공용 IP 주소를 확인합니다. 예: `49.165.191.3`

---

## 4. 포트 포워딩 설정

1. 브라우저에서 라우터 관리자 페이지(기본 게이트웨이 주소, 예: `192.168.219.1`)로 접속합니다.
2. 로그인한 후 **포트 포워딩** 또는 **NAT 설정** 메뉴로 이동합니다.
3. 다음 정보를 입력하여 포트 포워딩을 설정합니다:
    - **서비스 포트:** 8080 - 8080
    - **프로토콜:** TCP
    - **내부 IP 주소:** 192.168.219.103
    - **내부 포트:** 8080
4. 설정을 저장하고 라우터를 재부팅합니다.

---

## 5. Windows 방화벽에서 8080 포트 열기

1. Windows 검색창에서 "방화벽"을 입력하고 **고급 보안이 포함된 Windows Defender 방화벽**을 실행합니다.
2. 왼쪽에서 **인바운드 규칙**을 선택하고, 오른쪽에서 **새 규칙**을 클릭합니다.
3. 규칙 설정:
    - **규칙 유형:** 포트
    - **프로토콜:** TCP
    - **포트 번호:** 8080
    - **작업:** 연결 허용
    - **프로필:** 도메인, 개인, 공용
    - **이름:** Spring Boot 8080

---

## 6. 외부 네트워크에서 접속

1. 외부 네트워크(예: 모바일 데이터)에 연결된 장치에서 브라우저를 열고 다음 주소로 접속합니다:
    ```
    http://49.165.191.3:8080/api/users/view
    ```

---

## 7. 네트워크 논리

- **클라이언트 → 라우터:** 클라이언트는 공용 IP와 포트를 사용하여 라우터에 요청을 보냅니다.
- **라우터 → 서버:** 라우터는 포트 포워딩 설정을 통해 요청을 내부 서버로 전달합니다.
- **서버 → 클라이언트:** 서버는 요청을 처리한 후 클라이언트로 응답을 반환합니다.

---

## 8. 추가 참고사항

- 공용 IP가 변경될 수 있으므로 고정 IP 또는 DDNS 서비스를 고려하세요.
- 사용하지 않을 때는 포트 포워딩 설정을 비활성화하여 보안을 강화하세요.
